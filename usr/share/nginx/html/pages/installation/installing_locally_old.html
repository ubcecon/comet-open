<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-GB" xml:lang="en-GB"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-06-27">

<title>COMET - Install and Use COMET</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../media/comet_favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="keywords" content="economics, econometrics, R, data, machine learning, UBC, COMET, geog 374, econ 325, econ 326, learning, teaching, learn r, r help, help, tutorial, r tutorial for beginners,learning statistics with r, learn r programming, learn statistics, linear regression, r machine learning, learn machine learning, university of british columbia, british columbia, r programming for beginners, r language tutorial, r tutorial for beginners, economic data, econometrics tutoring, economics help for students, economics homework help, oer resources for teachers, open educational resources for teachers, educational resource, oer project, oer materials, oer resources, learn economics online, learn econometrics, teach yourself economics, teach yourself econometrics, econometrics basics for beginners">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../media/logo_no_tiny_text.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">COMET</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-get-started" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Get Started</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-get-started">    
        <li>
    <a class="dropdown-item" href="../../pages/quickstart.html" rel="" target="">
 <span class="dropdown-text">Quickstart Guide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/installation/installing_locally.html" rel="" target="">
 <span class="dropdown-text">Install and Use COMET</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_getting_started.html" rel="" target="">
 <span class="dropdown-text">Get Started</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-learn-by-skill-level" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Learn By Skill Level</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-learn-by-skill-level">    
        <li>
    <a class="dropdown-item" href="../../pages/index/index_getting_started.html" rel="" target="">
 <span class="dropdown-text">Getting Started</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_beginner.html" rel="" target="">
 <span class="dropdown-text">Beginner</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_intermediate.html" rel="" target="">
 <span class="dropdown-text">Intermediate - Econometrics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_geog.html" rel="" target="">
 <span class="dropdown-text">Intermediate - Geospatial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_advanced.html" rel="" target="">
 <span class="dropdown-text">Advanced</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../pages/index/all.html" rel="" target="">
 <span class="dropdown-text">Browse All</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-learn-by-class" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Learn By Class</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-learn-by-class">    
        <li>
    <a class="dropdown-item" href="../../pages/index/index_226.html" rel="" target="">
 <span class="dropdown-text">Making Sense of Economic Data (ECON 226/227)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_325.html" rel="" target="">
 <span class="dropdown-text">Econometrics I (ECON 325)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_326.html" rel="" target="">
 <span class="dropdown-text">Econometrics II (ECON 326)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/index/index_geog.html" rel="" target="">
 <span class="dropdown-text">Statistics in Geography (GEOG 374)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-learn-to-research" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Learn to Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-learn-to-research">    
        <li>
    <a class="dropdown-item" href="../../pages/index/index_research.html" rel="" target="">
 <span class="dropdown-text">Learn How to Do a Project</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teach-with-comet" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Teach With COMET</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-teach-with-comet">    
        <li>
    <a class="dropdown-item" href="../../pages/teaching_with_comet.html" rel="" target="">
 <span class="dropdown-text">Learn how to teach with Jupyter and COMET</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/using_comet.html" rel="" target="">
 <span class="dropdown-text">Using COMET in the Classroom</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/dissemination/dissemination.html" rel="" target="">
 <span class="dropdown-text">See COMET presentations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contribute" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Contribute</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-contribute">    
        <li>
    <a class="dropdown-item" href="../../pages/installation/installing_for_development.html" rel="" target="">
 <span class="dropdown-text">Install for Development</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/documentation/writing_self_tests.html" rel="" target="">
 <span class="dropdown-text">Write Self Tests</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-launch-comet" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
      <i class="bi bi-play" role="img">
</i> 
 <span class="menu-text">Launch COMET</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-launch-comet">    
        <li>
    <a class="dropdown-item" href="https://open.jupyter.ubc.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fubcecon%2Fcomet-notebooks&amp;urlpath=lab%2Ftree%2Fcomet-notebooks%2F&amp;branch=main" rel="" target=""><i class="bi bi-cloud-check" role="img">
</i> 
 <span class="dropdown-text">Launch on JupyterOpen (with Data)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://open.jupyter.ubc.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fubcecon%2Fcomet-project&amp;urlpath=lab%2Ftree%2Fcomet-project%2F&amp;branch=main" rel="" target=""><i class="bi bi-cloud-check" role="img">
</i> 
 <span class="dropdown-text">Launch on JupyterOpen (lite)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://ubc.syzygy.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fubcecon%2Fcomet-project&amp;urlpath=lab%2Ftree%2Fcomet-project%2F&amp;branch=main" rel="" target=""><i class="bi bi-gear" role="img">
</i> 
 <span class="dropdown-text">Launch on Syzygy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://colab.research.google.com/github/ubcecon/comet-notebooks/blob/main/" rel="" target=""><i class="bi bi-google" role="img">
</i> 
 <span class="dropdown-text">Launch on Colab</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/ubcecon/comet-notebooks/archive/refs/heads/main.zip" rel="" target=""><i class="bi bi-cloud-download" role="img">
</i> 
 <span class="dropdown-text">Launch Locally</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="https://github.com/ubcecon/comet-open/archive/refs/heads/datasets.zip" rel="" target=""><i class="bi bi-clipboard-data" role="img">
</i> 
 <span class="dropdown-text">Project Datasets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/ubcecon/comet-open" rel="" target="">
 <span class="dropdown-text">Github Repository</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../#" rel="" target="">
 <span class="menu-text">|</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-about" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">About</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-about">    
        <li>
    <a class="dropdown-item" href="../../pages/team.html" rel="" target="">
 <span class="dropdown-text">COMET Team</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/copyright.html" rel="" target="">
 <span class="dropdown-text">Copyright Information</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-hub" id="toc-sec-hub" class="nav-link active" data-scroll-target="#sec-hub">Running via a JupyterHub</a>
  <ul class="collapse">
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages">Installing Packages</a></li>
  </ul></li>
  <li><a href="#sec-rstudio" id="toc-sec-rstudio" class="nav-link" data-scroll-target="#sec-rstudio">Using with RStudio</a>
  <ul class="collapse">
  <li><a href="#create-a-project" id="toc-create-a-project" class="nav-link" data-scroll-target="#create-a-project">Create a Project</a></li>
  </ul></li>
  <li><a href="#sec-local" id="toc-sec-local" class="nav-link" data-scroll-target="#sec-local">Installing Jupyter on Your Own Computer</a>
  <ul class="collapse">
  <li><a href="#sec-step1" id="toc-sec-step1" class="nav-link" data-scroll-target="#sec-step1">Step 1: Install the Environment Manager</a></li>
  <li><a href="#step-2-install-the-environment" id="toc-step-2-install-the-environment" class="nav-link" data-scroll-target="#step-2-install-the-environment">Step 2: Install the Environment</a></li>
  <li><a href="#step-3-configure-the-irkernel" id="toc-step-3-configure-the-irkernel" class="nav-link" data-scroll-target="#step-3-configure-the-irkernel">Step 3: Configure the <code>IRkernel</code></a></li>
  <li><a href="#step-4-download-the-notebooks" id="toc-step-4-download-the-notebooks" class="nav-link" data-scroll-target="#step-4-download-the-notebooks">Step 4: Download the Notebooks</a></li>
  <li><a href="#step-5-using-jupyter-and-creating-a-short-cut" id="toc-step-5-using-jupyter-and-creating-a-short-cut" class="nav-link" data-scroll-target="#step-5-using-jupyter-and-creating-a-short-cut">Step 5: Using Jupyter and Creating a Short-Cut</a>
  <ul class="collapse">
  <li><a href="#creating-a-shortcut" id="toc-creating-a-shortcut" class="nav-link" data-scroll-target="#creating-a-shortcut">Creating a Shortcut</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#installing-for-development" id="toc-installing-for-development" class="nav-link" data-scroll-target="#installing-for-development">Installing for Development</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/ubcecon/comet-open/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Install and Use COMET</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Last Updated</div>
    <div class="quarto-title-meta-contents">
      <p class="date">27 June 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
A Word of Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>We are still fine-tuning this part. It might not work properly. Let us know if you have any issues <script type="text/javascript">
<!--
h='&#x75;&#98;&#x63;&#46;&#x63;&#x61;';a='&#64;';n='&#x63;&#x6f;&#x6d;&#x65;&#116;&#46;&#112;&#114;&#x6f;&#106;&#x65;&#x63;&#116;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+'&#104;&#x65;&#114;&#x65;'+'<\/'+'a'+'>');
// -->
</script><noscript>here (comet.project at ubc dot ca)</noscript></p>
</div>
</div>
<p>We have designed COMET to be easy to use and install for a wide range of students. If there’s one thing we know about teaching data and econometrics, it’s that everyone finds their own routine and tools that work best for them. We encourage you to explore and try different things - see what works best for you!</p>
<ul>
<li>For most students, we recommend using <strong>Jupyter Notebooks</strong> via a cloud server, called a <em>JupyterHub</em> which is the easiest to use, and the simplest to get started, since you don’t have to install anything. You can find this in <a href="#sec-hub">Section&nbsp;1</a></li>
<li>If you consider yourself a more advanced user, if you like customization and alternative development environments, or if you have an unreliable internet connection, you may want to <strong>install Jupyter locally</strong> which can be found in <a href="#sec-local">Section&nbsp;3</a>
<ul>
<li>You can also hook-up alternative IDEs, like <em>Visual Studio Code</em> to a local installation</li>
<li>This is also essential if you want to use <strong>STATA</strong> in Jupyter notebooks</li>
</ul></li>
<li>If you have experience with <strong>R Studio</strong> in the past, you can check out our guide in <a href="#sec-rstudio">Section&nbsp;2</a></li>
</ul>
<p>If you’re not sure, start with the cloud-based option, then get more sophisticated in the future.</p>
<section id="sec-hub" class="level1">
<h1>Running via a JupyterHub</h1>
<p>The easiest way to load and use these notebooks is via a <strong>JupyterHub</strong>. This cloud-based server hosts all of the computational resources needed to run the notebooks. Better still, since it runs in the cloud you don’t need to install anything on your computer, and the performance is not affected by your system resources.</p>
<ul>
<li>To launch in a cloud environment, select <code>launch COMET</code> from the top navigation bar, and then choose your hub.</li>
<li>For UBC students, we recommend <strong>JupyterOpen</strong>, which is a UBC-supported hub which we maintain, and has all of the necessary packages pre-installed and robust space and processor support. You must have a Campus-Wide Login (CWL) in order to access these resources.</li>
<li>If JupyterOpen is not working, you can also use PIMS <strong>Syzygy</strong> (<em>Siz-za-gee</em>). There is a UBC-specific version of this server, and several others that use a Google account or other authentication method.<br>
</li>
<li>Finally, if you are part of the Google ecosystem, you can launch them on <strong>Google Collab</strong> which has a slightly different appearance but it otherwise the same.</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Syzygy and Google Collab are not officially supported UBC software, and may not be privacy-compliant. You should take responsibility for your own use of these resources if you choose to use them. If Google already has all your data, too bad!</p>
</div>
</div>
<p>Once you are on the server, use the file navigation on the left to find the notebook you are interested in: we recommend starting with <code>intro_jupyter</code> which is under <code>docs/econ_intro</code>. Open the folder and click on the <code>.ipynb</code> file to start the notebook.</p>
<section id="installing-packages" class="level2">
<h2 class="anchored" data-anchor-id="installing-packages">Installing Packages</h2>
<p>You may at some points need to install some extra packages if you are <em>not</em> working on JupyterOpen. You can do this by opening the server, then clicking on the <strong>R Console</strong> in the launcher tab.</p>
<ul>
<li>Once the console opens, you should see a command line with <code>R version 4.2.1 (2022-06-23 ucrt)</code> or something similar.</li>
<li>In the bottom cell window, you should enter:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"car"</span>, <span class="st">"stargazer"</span>, <span class="st">"estimatr"</span>, <span class="st">"sandwich"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>then hit <code>ctrl-enter</code> to run the command. It should start installing, and may prompt you to select a CRAN mirror (choose any one near you). Be patient: this might take a while!</p>
<p>You should only have to do this once for each server you work with.</p>
</section>
</section>
<section id="sec-rstudio" class="level1">
<h1>Using with RStudio</h1>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you are using RStudio, you will want to ensure that you use the <code>.Rmd</code> or <code>.qmd</code> (R Markdown or Quarto) versions of the notebooks, not the <code>.ipynb</code> versions. Currently, RStudio does not natively support the Python notebook format.</p>
</div>
</div>
<p>To install and use with RStudio, follow the steps on the <a href="https://posit.co/download/rstudio-desktop/">RStudio website</a>.</p>
<ul>
<li>Make sure to choose the version of R that matches your processor. You can check your processor as in <a href="#sec-step1">Section&nbsp;3.1</a></li>
</ul>
<p>Once RStudio is installed, launch the software and then enter:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"car"</span>, <span class="st">"stargazer"</span>, <span class="st">"estimatr"</span>, <span class="st">"sandwich"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>into the console prompt at the bottom to install the necessary packages.</p>
<ul>
<li>Alternatively, you can follow the steps in <a href="#sec-local">Section&nbsp;3</a> and the choose the R installation which agrees with that version… but then why not use Jupyter? Or install RStudio <em>in</em> <code>conda</code>?!</li>
</ul>
<section id="create-a-project" class="level2">
<h2 class="anchored" data-anchor-id="create-a-project">Create a Project</h2>
<p>Next, you’ll want to download the files. Select <code>launch COMET</code> from the top navigation bar, and then click on “launch locally”. This will download a file (<code>main.zip</code>) to you computer.</p>
<ul>
<li>Extract the <code>.zip</code> file to a folder on your computer that you can find easily and give it a name (e.g.&nbsp;<code>comet-project</code>).</li>
<li>In RStudio, go to “File &gt; New Project” then select “Existing Directory”. Browse and select the directory from the previous step.</li>
</ul>
<p>You’re now ready to go! Use RStudio’s file navigation on the left to find the notebook you are interested in: we recommend starting with <code>intro_jupyter</code> which is under <code>docs/econ_intro</code>. Open the folder and click on the <code>.Rmd</code> or <code>.qmd</code> file to open the notebook.</p>
</section>
</section>
<section id="sec-local" class="level1">
<h1>Installing Jupyter on Your Own Computer</h1>
<p>Some students prefer to run these notebooks locally, on their own computer. This has the advantage of not requiring an internet connection, and avoiding the problems associated with it. However, it has the disadvantage of requiring you to install (and run) the software on your own computer.</p>
<p>If you want to run it locally, you will also need to choose an IDE; we recommend <strong>JupyterLab</strong> which is easy to use and install.</p>
<p>We <em>strongly</em> recommend that students install the dependencies via an environment manager, but you can skip this step if you know what you’re doing.</p>
<section id="sec-step1" class="level2">
<h2 class="anchored" data-anchor-id="sec-step1">Step 1: Install the Environment Manager</h2>
<p>Download the most recent version of <code>miniconda</code> for your computer operating system from:</p>
<p><a href="https://docs.conda.io/en/latest/miniconda.html#latest-miniconda-installer-links">https://docs.conda.io/en/latest/miniconda.html</a></p>
<p>The version selection is a little bit different for different operating systems, so click on the appropriate tab below.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Windows 10/11</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Macintosh</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>It is important to pay attention to the version you download: different processors will require different versions.</p>
<ul>
<li>To check your processor, open the Start menu and search “Processor” then click “View Processor Info”</li>
<li>Under “Device Specifications” look at <em>System Type</em>.
<ul>
<li>if this says <strong>64-bit operating system</strong> or something like <strong>x64-based processor</strong> choose the 64-bit version</li>
<li>if this says <strong>32-bit operating system</strong> choose the 32-bit version.</li>
</ul></li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>It is important to pay attention to the version you download: different processors will require different versions.</p>
<ul>
<li>To check your processor, click on the Apple logo in the top-left of your screen, and select “About This Mac”</li>
<li>Look for the processor information.
<ul>
<li>if this says something like <strong>3.2 GHz Intel Core i5</strong> or something like <strong>x64-based processor</strong> choose the macOS Intel x86 64-bit version</li>
<li>if this says something like <strong>Apple M1</strong> choose the macOS Apple M1 64-bit version</li>
</ul></li>
<li>We recommend choosing the <code>.pkg</code> version of the installer.</li>
</ul>
</div>
</div>
</div>
<p>Once you have downloaded the installer, run the installer.</p>
<ul>
<li>Make sure you choose a sensible installation location; you can ignore any warnings about spaces in names.</li>
<li>Check the following options, if available:
<ol type="1">
<li>Create shortcuts</li>
<li>Add Miniconda3 to my PATH environment variable</li>
<li>Register Miniconda3 as my default Python 3.10</li>
<li>Clear the package cache upon completion.</li>
</ol></li>
<li>Run the installer, which can take a while.</li>
</ul>
</section>
<section id="step-2-install-the-environment" class="level2">
<h2 class="anchored" data-anchor-id="step-2-install-the-environment">Step 2: Install the Environment</h2>
<p>Now that we have our environment manager installed, we need to add in the necessary packages.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>This will take a while and requires a stable internet connection; make sure you’re plugged in and not on a bus or something!</p>
</div>
</div>
<p>To make this easier, we have create an <em>environment file</em>, which contains all of the necessary packages and installation files for <code>miniconda</code>. Download this file and place it in a directory that you can easily find.</p>
<blockquote class="blockquote">
<p>You can find this file <a href="../files/comet-environment.yml">here</a>. Right-click, save-as, to download.</p>
</blockquote>
<p>Right-click on <code>comet-environment.yml</code> and write down the <strong>file path</strong>. You will need this in a moment. Next, launch your system’s command prompt:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Windows 10/11</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Macintosh</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li>Open the Start Menu and type in <code>cmd</code></li>
<li>Right-click on “Command Prompt” and/or select “Run as Administrator”</li>
<li>Agree to the warning that pops up, if it does.</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Click the Launchpad icon in the Dock, type <code>Terminal</code> in the search field, then click “Terminal”.</li>
</ul>
<p>If this doesn’t work, open the Finder, then open the <code>/Applications/Utilities</code> folder, and finally double-click Terminal.</p>
</div>
</div>
</div>
<p>Once your command prompt is running, enter the following command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>conda env create <span class="op">-</span>f <span class="st">"MYPATH/comet-environment.yml"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>replacing <code>"MYPATH/</code> with the file path you noted earlier. Hit enter to run it.</p>
<p><code>miniconda</code> will run, and install all of the files. This may take some time, so grab a sandwich, and don’t turn-off your computer.</p>
</section>
<section id="step-3-configure-the-irkernel" class="level2">
<h2 class="anchored" data-anchor-id="step-3-configure-the-irkernel">Step 3: Configure the <code>IRkernel</code></h2>
<p>The last major step is to set up the kernel properly. Enter the following into the command prompt and hit enter:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>conda activate comet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then, type <code>R</code>. Once R loads, enter the following two commands, hitting enter to run each one:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">'IRkernel'</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>IRkernel<span class="sc">::</span><span class="fu">installspec</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>They should complete, and you’re now ready to go. Close the command prompt.</p>
</section>
<section id="step-4-download-the-notebooks" class="level2">
<h2 class="anchored" data-anchor-id="step-4-download-the-notebooks">Step 4: Download the Notebooks</h2>
<p>Next, you’ll want to download the files. Select <code>launch COMET</code> from the top navigation bar, and then click on “launch locally”. This will download a file (<code>main.zip</code>) to you computer.</p>
<ul>
<li>Extract the <code>.zip</code> file to a folder on your computer that you can find easily and rename it from <code>main</code> to <code>comet-project</code>. Find the file path of the this directory, and copy it down.</li>
</ul>
</section>
<section id="step-5-using-jupyter-and-creating-a-short-cut" class="level2">
<h2 class="anchored" data-anchor-id="step-5-using-jupyter-and-creating-a-short-cut">Step 5: Using Jupyter and Creating a Short-Cut</h2>
<p>Test your Jupyter installation by opening a new command prompt, then entering the following two commands:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cd</span> FILEPATH</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>conda activate comet</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>jupyter lab</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <code>FILEPATH</code> is the directory from Step 4, above.</p>
<p>Your web-brower should launch, and Jupyter should load. You can now load or create a notebook. Use the file navigation on the left to find the notebook you are interested in: we recommend starting with <code>intro_jupyter</code> which is under <code>docs/econ_intro</code>. Open the folder and click on the <code>.ipynb</code> file to start the notebook.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>The command window will stay open, and report the server status. <strong>Don’t close this window</strong> until you’ve saved your work or your JupyterHub will die and you’ll have to re-do everything.</p>
</div>
</div>
<p>Whenever you want to launch JupyterLab, repeat the two steps above. This can be a little tedious: an alterative is to create a shortcut, which you can do below.</p>
<section id="creating-a-shortcut" class="level3">
<h3 class="anchored" data-anchor-id="creating-a-shortcut">Creating a Shortcut</h3>
<p>This is different for other operating systems, so choose the version.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Windows</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Macintosh</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>Open <code>notepad</code> from the Start Menu, and then enter:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>@call conda run <span class="op">-</span>n comet <span class="op">--</span>no<span class="op">-</span>capture<span class="op">-</span>output jupyter lab </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>@CMD <span class="op">/</span>K</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Save this file as <code>run_comet.bat</code> and place it in your <code>comet-project</code> folder. When you double-click on it, it should immediately launch Jupyter Lab for you in the associated folder.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>I haven’t tested this yet! Let me know if it’s busted.</p>
</div>
</div>
<p>Click the Launchpad icon in the Dock, type <code>TextEdit</code> in the search field, then click “TextEdit”.</p>
<p>Launch the terminal, and type in <code>nano</code> to launch the (very old-school) nano text editor. In the editor, enter:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/zsh</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>conda run <span class="op">-</span>n comet <span class="op">--</span>no<span class="op">-</span>capture<span class="op">-</span>output jupyter lab </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>read</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then save the file by hitting <code>CTRL</code> and <code>X</code> on your keyboard together, and type in <code>run_comet.sh</code>, then hit <code>y</code> to save. The file should now be saved to your computer as <code>run_comet.sh</code>. Make sure you place it in the <code>comet-project</code> folder. There’s one last step: making it executable.</p>
<p>In your Terminal then enter:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cd</span> FILEPATH</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>where <code>FILEPATH</code> is the location of your <code>run_comet.sh</code> script. Then, enter:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>chmod 755 run_comet<span class="op">.</span><span class="fu">sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Finally, to make it run on your computer:</p>
<ul>
<li>find the file in your Finder, and right-click, and select “Open with…” and select “Other…”.</li>
<li>toggle the dropdown to “All Applications” from “Recommended Applications”</li>
<li>under “Utilities” select Terminal</li>
<li>check the “always use this application” box, and hit OK.</li>
</ul>
<p>You should now be able to double-click the shortcut to launch Jupyter on your computer!</p>
<p>All done! No more command line stuff, hopefully!</p>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="installing-for-development" class="level1">
<h1>Installing for Development</h1>
<p>So, you want to develop and submit new material to COMET? Awesome! There are a couple of extra things you will need to do in order to make this work.</p>
<ol type="1">
<li>First, identify which IDE you want to use and install it. I recommend RStudio (for <code>.qmd</code> files) or VSCode (for <code>.ipynb</code> and <code>.qmd</code>), or JupyterLab (for <code>.ipynb</code>)</li>
</ol>
<ul>
<li>If you are using RStudio, follow the instructions in <a href="#sec-rstudio">Section&nbsp;2</a> up to the point of downloading the project. You will also need to install one of the other tools to develop <code>.ipynb</code> notebooks.</li>
<li>If you are using VSCode, you will need to install R (see <a href="#sec-rstudio">Section&nbsp;2</a>) and then <a href="https://code.visualstudio.com/download">VSCode</a> for your operating system</li>
<li>If you are using Jupyterlab, follow the instructions in <a href="#sec-local">Section&nbsp;3</a> up to Step 4. Come back and do Step 5 later, after your development environment is set up. You will also need to install one of the other tools to develop <code>.qmd</code> notebooks.</li>
</ul>
<ol start="2" type="1">
<li>Second, download and install <a href="https://git-scm.com/downloads">Git</a> for your operating system. If you are developing on the Github version, it’s also worthwhile to install <a href="https://desktop.github.com/">GitHub Desktop</a> for your operating system <em>after</em> you install Git</li>
<li>Finally, install <a href="https://quarto.org/docs/get-started/">Quarto</a>. Follow the steps to integrate with RStudio or VSCode.</li>
</ol>
<p>Now, use Git or Github desktop to download the repository from our repository and get working.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>.  <a rel="license" href="https://comet.arts.ubc.ca/pages/copyright.html">See details.</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 The COMET Project and the UBC Vancouver School of Economics are located on the traditional, ancestral and unceded territory of the xʷməθkʷəy̓əm (Musqueam) and Sḵwx̱wú7mesh (Squamish) peoples.
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>